!function(e){var a={};function p(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,p),t.l=!0,t.exports}p.m=e,p.c=a,p.d=function(e,a,r){p.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:r})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,a){if(1&a&&(e=p(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(p.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)p.d(r,t,function(a){return e[a]}.bind(null,t));return r},p.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(a,"a",a),a},p.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},p.p="",p(p.s=1)}([function(e,a,p){},function(e,a,p){"use strict";p.r(a);p(0);var r={500:{0:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/001.jpg",1:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/002.jpg",2:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/003.jpg",3:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/004.jpg",4:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/005.jpg",5:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/006.jpg",6:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/007.jpg",7:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/008.jpg",8:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/009.jpg",9:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/010.jpg",10:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/011.jpg",11:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/012.jpg",12:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/013.jpg",13:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/014.jpg",14:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/015.jpg",15:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/016.jpg",16:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/017.jpg",17:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/018.jpg",18:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/019.jpg",19:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/020.jpg",20:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/021.jpg",21:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/022.jpg",22:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/023.jpg",23:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/024.jpg",24:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/025.jpg",25:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/026.jpg",26:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/027.jpg",27:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/028.jpg",28:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/029.jpg",29:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/030.jpg",30:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/031.jpg",31:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/032.jpg",32:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/033.jpg",33:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/034.jpg",34:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/035.jpg",35:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/036.jpg",36:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/037.jpg",37:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/038.jpg",38:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/039.jpg",39:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/040.jpg",40:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/041.jpg",41:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/042.jpg",42:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/043.jpg",43:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/044.jpg",44:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/045.jpg",45:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/046.jpg",46:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/047.jpg",47:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/048.jpg",48:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/049.jpg",49:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/050.jpg",50:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/051.jpg",51:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/052.jpg"},1e3:{0:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/001.jpg",1:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/002.jpg",2:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/003.jpg",3:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/004.jpg",4:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/005.jpg",5:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/006.jpg",6:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/007.jpg",7:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/008.jpg",8:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/009.jpg",9:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/010.jpg",10:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/011.jpg",11:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/012.jpg",12:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/013.jpg",13:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/014.jpg",14:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/015.jpg",15:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/016.jpg",16:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/017.jpg",17:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/018.jpg",18:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/019.jpg",19:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/020.jpg",20:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/021.jpg",21:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/022.jpg",22:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/023.jpg",23:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/024.jpg",24:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/025.jpg",25:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/026.jpg",26:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/027.jpg",27:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/028.jpg",28:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/029.jpg",29:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/030.jpg",30:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/031.jpg",31:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/032.jpg",32:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/033.jpg",33:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/034.jpg",34:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/035.jpg",35:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/036.jpg",36:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/037.jpg",37:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/038.jpg",38:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/039.jpg",39:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/040.jpg",40:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/041.jpg",41:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/042.jpg",42:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/043.jpg",43:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/044.jpg",44:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/045.jpg",45:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/046.jpg",46:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/047.jpg",47:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/048.jpg",48:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/049.jpg",49:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/050.jpg",50:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/051.jpg",51:"https://api.selcdn.ru/v1/SEL_74488/photographers_workplace/3d/1a083608-9415-11db-9bee-001125e958b4/052.jpg"}};function t(e,a){for(var p=0;p<a.length;p++){var r=a[p];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=a,this.progressBar,this.settings={frameImages:{},framesPath:window.innerWidth<768&&r[500]?r[500]:r[1e3],framesLength:Object.keys(r[500]).length},this.canvasSettings={height:window.innerWidth<768?250:500,width:window.innerWidth<768?250:500,dy:0,dx:0},this.canvas=document.createElement("canvas"),this.ctx,this.frame={direction:1,curFrame:0,count:0,spin:40,animating:!1,swipe:!1,tick:50,inertionTick:1,delta:8},this.init()}var a,p,s;return a=e,(p=[{key:"init",value:function(){this.progressBarInit(),this.loadImage(),this.swipeCanvasHandler()}},{key:"progressBarInit",value:function(){this.progressBar=' \n\t\t <div class="progress-bar" >\n\t\t\t<div class="progress-line"></div>\n\t\t</div>\n\t',this.el.innerHTML=this.progressBar}},{key:"loadImage",value:function(){var e=this,a=0;!function p(){a<e.settings.framesLength?(e.settings.frameImages[a]=new Image,e.settings.frameImages[a].src=e.settings.framesPath[a],e.settings.frameImages[a].onload=function(){setTimeout((function(){var r,t;p(),r=a,(t=e.el.querySelector(".progress-line"))&&(t.style.width="".concat(r/52*100,"%")),a++}))}):(e.canvasCreated(),e.spinCanvas(),setTimeout((function(){e.imageClickHandler()}),1500))}()}},{key:"imageClickHandler",value:function(){var e=document.createElement("div");e.classList.add("icon-spin"),this.el.appendChild(e),setTimeout((function(){e.remove()}),5e3)}},{key:"canvasCreated",value:function(){this.canvas.id="canvas",this.canvas.width=this.canvasSettings.width,this.canvas.height=this.canvasSettings.height,this.ctx=this.canvas.getContext("2d"),this.el.innerHTML="",this.el.appendChild(this.canvas)}},{key:"spinCanvas",value:function(){var e,a=this,p=function(){a.frame.curFrame<0&&(a.frame.curFrame=a.settings.framesLength-1),a.frame.curFrame>a.settings.framesLength-1&&(a.frame.curFrame=0),1===a.frame.direction&&(e=a.settings.frameImages[a.frame.curFrame])&&a.ctx.drawImage(e,a.canvasSettings.dx,a.canvasSettings.dy,a.canvasSettings.width,a.canvasSettings.height),2===a.frame.direction&&(e=a.settings.frameImages[a.frame.curFrame])&&a.ctx.drawImage(e,a.canvasSettings.dx,a.canvasSettings.dy,a.canvasSettings.width,a.canvasSettings.height)};!function e(){2===a.frame.direction?a.frame.curFrame--:a.frame.curFrame++,a.frame.count++,p(),a.frame.count<a.frame.spin?(a.frame.swipe=!1,a.frame.tick=a.frame.tick+2,a.frame.inertionTick=a.frame.tick/a.frame.delta*3,setTimeout((function(){e()}),a.frame.inertionTick)):(a.frame.count=0,a.frame.direction=0,a.frame.swipe=!0,a.frame.animating=!1)}()}},{key:"swipeCanvasHandler",value:function(){var e=this;console.log("hadler");var a={dataStart:Date.now(),patch:{coords:[]},currentX:"",inGesture:!1,originalX:"",firstX:"",resultDate:"",repeat:!1,startSpin:!1},p=function(e,p){var s,o;if(a.inGesture){s=Math.abs(p-e),e>p&&(o=1),e<p&&(o=0);var n=null;switch(o){case 0:n=r;break;case 1:n=t}null!=n&&n(s)}},r=function(p){a.repeat?(e.frame.spin=100,a.inGesture=!1):e.frame.spin=15,e.frame.direction=1,e.frame.animating||(e.frame.animating=!0,setTimeout((function(){e.spinCanvas()}),e.frame.inertionTick))},t=function(p){a.repeat?(e.frame.spin=100,a.inGesture=!1):e.frame.spin=15,e.frame.direction=2,e.frame.animating||(e.frame.animating=!0,setTimeout((function(){e.spinCanvas()}),e.frame.inertionTick))},s=function(p){a.startSpin||(a.dataStart=Date.now(),a.path={coords:null},a.currentX={},a.inGesture=!0,a.firstX=p.touches?p.touches[0].pageX:p.pageX,e.canvas.ontouchmove=function(e){o(e)},e.canvas.onmousemove=function(e){o(e)})},o=function(r){if(a.inGesture){var t=Date.now()-a.dataStart;a.path.coords=a.path.coords||[],a.currentX=r.touches?r.touches[0].pageX:r.pageX,a.path.coords.push(a.currentX),e.frame.inertionTick=30;var s=a.path.coords.length;a.originalX=a.path.coords[s-2],a.currentX!==a.originalX&&a.originalX&&t>50&&(a.repeat=!1,e.frame.swipe=!0,p(a.currentX,a.originalX))}},n=function(r){a.inGesture&&(a.currentX>a.originalX&&a.originalX!==a.currentX||a.currentX<a.originalX&&a.originalX!==a.currentX)&&(e.frame.tick=10,e.frame.swipe=!1,a.repeat=!0,p(a.currentX,a.originalX)),a.inGesture=!1,a.startSpin=!1};this.canvas.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation(),s(e)})),this.canvas.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation(),s(e)})),this.canvas.addEventListener("touchend",(function(e){e.preventDefault(),e.stopPropagation(),n()})),this.canvas.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),n()}))}}])&&t(a.prototype,p),s&&t(a,s),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#canvas");new s(e)}))}]);